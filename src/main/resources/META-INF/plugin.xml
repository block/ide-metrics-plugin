<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>xyz.block.idea.telemetry</id>
    <name>Block IDE Metrics</name>
    <vendor>Block, Inc.</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.gradle</depends>
    <depends>org.jetbrains.plugins.gradle</depends>

    <extensions defaultExtensionNs="com.intellij">
        <externalSystemTaskNotificationListener implementation="xyz.block.idea.telemetry.listeners.sync.GradleResolveProjectTaskListener" />
        <projectService serviceImplementation="xyz.block.idea.telemetry.services.SyncState"/>
        <projectService serviceImplementation="xyz.block.idea.telemetry.services.Analytics"/>
        <applicationService serviceImplementation="xyz.block.idea.telemetry.freeze.SentryConfig"/>
        <notificationGroup id="Block IDE Metrics" displayType="BALLOON"/>
        <projectActivity implementation="xyz.block.idea.telemetry.freeze.FreezeListenerRegistrar"/>
    </extensions>
    <extensions defaultExtensionNs="org.jetbrains.plugins.gradle">
        <executionHelperExtension implementation="xyz.block.idea.telemetry.listeners.sync.GradleBuildPhaseListener"/>
    </extensions>

    <projectListeners>
        <listener class="xyz.block.idea.telemetry.listeners.sync.ProjectDataListener"
                  topic="com.intellij.openapi.externalSystem.service.project.manage.ProjectDataImportListener"/>
    </projectListeners>
</idea-plugin>
